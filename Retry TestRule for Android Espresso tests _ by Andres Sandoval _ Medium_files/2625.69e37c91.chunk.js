var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(self.webpackChunklite=self.webpackChunklite||[]).push([[2625],{89392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67294);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=a.createElement("path",{clipRule:"evenodd",d:"M3 3.35c0-1.26 1.11-2.3 2.5-2.3S8 2.1 8 3.35v2.6H3zm6 2.6v-2.6C9 1.52 7.42.05 5.5.05S2 1.52 2 3.35v2.6a2 2 0 0 0-2 2v4a1.99 1.99 0 0 0 2 2h7a2 2 0 0 0 2-2v-4a1.99 1.99 0 0 0-2-2z",fill:"#a8a8a8",fillRule:"evenodd"});const o=function(e){return a.createElement("svg",r({fill:"none",height:14,viewBox:"0 0 11 14",width:11},e),i)}},66612:(e,t,n)=>{"use strict";n.d(t,{F:()=>d,l:()=>u});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(27721),c=n(42933);function s(){var e=r()(["\n  fragment BookCover_bookEdition on BookEdition {\n    cover\n  }\n"]);return s=function(){return e},e}var d=function(e){var t=e.bookEdition,n=e.width,a=e.marginRight,r=e.marginBottom,i=e.marginLeft,s=e.marginTop,d=e.height,u=e.strategy;return o.createElement(c.x,{marginRight:a,marginLeft:i,marginTop:s,marginBottom:r},t.cover?o.createElement(l.UV,{miroId:t.cover,width:n,height:d,strategy:u}):o.createElement(c.x,{height:"".concat(d||1.5*n,"px"),width:"".concat(n,"px"),backgroundColor:"BASE_NORMAL"}))},u=(0,i.Ps)(s())},73976:(e,t,n)=>{"use strict";n.d(t,{n:()=>x,E:()=>w});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(42933),c=n(4353),s=n(98024),d=n(71229),u=n(6688),g=n(14391),m=n(89392),p=n(66137),f=n(24821);function v(){var e=r()(["\n  fragment CatalogAddToListItem_catalog on Catalog {\n    id\n    name\n    visibility\n    predefined\n    version\n    itemsConnection(pagingOptions: $pagingOptions) {\n      items {\n        ...CatalogAddToListItem_catalogItemV2\n      }\n    }\n    ...WithToggleInsideCatalog_catalog\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function h(){var e=r()(["\n  fragment CatalogAddToListItem_catalogItemV2 on CatalogItemV2 {\n    catalogItemId\n    entity {\n      __typename\n      ... on Post {\n        id\n      }\n      ... on BookEdition {\n        id\n      }\n    }\n  }\n"]);return h=function(){return e},e}var C={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px","& > label":{width:"calc(100% - 10px)","& > div":{flexShrink:0},"& > p":{marginRight:"10px",textAlign:"left"}}};function I(e){var t=e.catalog,n=e.target,a=e.kind,r=e.queryVariablesOptions,i=(0,u.I)();return o.createElement(f.jo,{target:n,kind:a,catalog:t,variablesOptions:r},(function(e){var n=e.toggleInsideCatalog,a=e.isInsideCatalog,r=e.loading,l=t.predefined?(0,p.S)(t.predefined):t.name;return o.createElement("div",{className:i(C)},o.createElement(d.X,{key:t.id,checked:a,checkboxStyle:"OBVIOUS",onChange:n,disabled:r||t.visibility===g.n2.LOCKED,textScale:"L",clampText:1},l),t.visibility!==g.n2.PUBLIC&&o.createElement(m.Z,null))}))}var E=(0,i.Ps)(h()),y=(0,i.Ps)(v(),E,f.sC);function b(){var e=r()(["\n  fragment CatalogAddToList_catalog on Catalog {\n    ...CatalogAddToListItem_catalog\n  }\n  ","\n"]);return b=function(){return e},e}function x(e){var t=e.target,n=e.kind,a=e.catalogs,r=e.isLoading,i=e.queryVariablesOptions;return r?o.createElement(l.x,{display:"flex",justifyContent:"center",padding:"40px 0"},o.createElement(s.F,{color:"DARKER",scale:"L"},o.createElement(c.T,null))):a?o.createElement(o.Fragment,null,a.map((function(e){return o.createElement(I,{key:e.id,catalog:e,target:t,kind:n,queryVariablesOptions:i})}))):null}var w=(0,i.Ps)(b(),y)},24821:(e,t,n)=>{"use strict";n.d(t,{jo:()=>m,sC:()=>p,tA:()=>f,m7:()=>v});var a=n(28655),r=n.n(a),i=n(63038),o=n.n(i),l=n(71439),c=n(67294),s=n(57768);function d(){var e=r()(["\n  fragment WithToggleInsideCatalog_post on Post {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}function u(){var e=r()(["\n  fragment WithToggleInsideCatalog_bookEdition on BookEdition {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}function g(){var e=r()(["\n  fragment WithToggleInsideCatalog_catalog on Catalog {\n    id\n    version\n    predefined\n  }\n"]);return g=function(){return e},e}function m(e){var t,n,a=e.children,r=e.target,i=e.kind,l=e.catalog,d=c.useMemo((function(){if(l.predefined){var e,t=null===(e=r.viewerEdge.catalogsConnection)||void 0===e?void 0:e.predefinedContainingThis.find((function(e){return e.predefined===l.predefined}));return[!!t,null==t?void 0:t.catalogItemIds]}var n,a=null===(n=r.viewerEdge.catalogsConnection)||void 0===n?void 0:n.catalogsContainingThis.find((function(e){return e.catalogId===l.id}));return[!!a,null==a?void 0:a.catalogItemIds]}),[l.predefined,l.id,r.viewerEdge]),u=o()(d,2),g=u[0],m=u[1],p=(0,s.qY)(l.id,l.version,r.id,i,null!==(t=l.predefined)&&void 0!==t?t:void 0),f=o()(p,2),v=f[0],h=f[1].loading,C=(0,s.jN)(l.id,l.version,r.id,i,m||[],null!==(n=l.predefined)&&void 0!==n?n:void 0),I=o()(C,2),E=I[0],y=I[1].loading;return a({toggleInsideCatalog:g?E:v,isInsideCatalog:g,loading:h||y})}var p=(0,l.Ps)(g()),f=(0,l.Ps)(u()),v=(0,l.Ps)(d())},19661:(e,t,n)=>{"use strict";n.d(t,{Rw:()=>p,Y_:()=>h,u1:()=>C});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(66612),c=n(27721),s=n(42933),d=n(6688),u=n(51299),g=n(90038);function m(){var e=r()(["\n  fragment CatalogCovers_catalogItemV2 on CatalogItemV2 {\n    catalogItemId\n    entity {\n      __typename\n      ... on BookEdition {\n        ...BookCover_bookEdition\n      }\n      ... on Post {\n        previewImage {\n          id\n          alt\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var p=336,f=function(e,t){var n=t?-20:-80,a=t?0:-130;return{position:"relative",borderRight:e<2?"".concat(3,"px solid #FFFFFF"):void 0,zIndex:3-e,marginLeft:1===e?"".concat(n,"px"):2===e?"".concat(a,"px"):void 0}},v=function(e){var t,n=e.catalogItem,a=e.size,r=null==n?void 0:n.entity,i=o.createElement(s.x,{height:"".concat(a,"px"),width:"".concat(a,"px"),backgroundColor:"BASE_NORMAL"});return r&&("BookEdition"===r.__typename?i=o.createElement(l.F,{bookEdition:r,width:a,height:a,strategy:g._S.Crop}):"Post"===r.__typename&&null!==(t=r.previewImage)&&void 0!==t&&t.id&&(i=o.createElement(c.UV,{miroId:r.previewImage.id,alt:r.previewImage.alt||"",width:a,height:a,strategy:g._S.Crop}))),o.createElement(s.x,{height:"".concat(a,"px")},i)},h=function(e){var t=e.catalogItems,n=e.isMobile,a=(0,d.I)(),r=(0,u.U)(),i=t.filter((function(e){var t,n=e.entity;return!("Post"!==(null==n?void 0:n.__typename)||null===(t=n.previewImage)||void 0===t||!t.id)||!("BookEdition"!==(null==n?void 0:n.__typename)||!n.cover)})),l=[i[0],i[1],i[2]],c=n||"sm"===r||"xs"===r,g=c?140:184;return o.createElement(s.x,{display:"flex",overflow:"hidden",justifyContent:n?"flex-start":"flex-end",width:"".concat(p,"px"),borderRadius:"0 4px 4px",position:"relative",xs:{width:"100%",justifyContent:"flex-start"}},l.map((function(e,t){return o.createElement("div",{key:(null==e?void 0:e.catalogItemId)||t,className:a(f(t,c))},o.createElement(v,{catalogItem:e,size:g}))})))},C=(0,i.Ps)(m(),l.l)},16084:(e,t,n)=>{"use strict";n.d(t,{W:()=>h,CT:()=>C,e7:()=>I,dT:()=>E,dw:()=>y,Fk:()=>b,jk:()=>x,Dk:()=>w,T8:()=>k,Hp:()=>O});var a=n(319),r=n.n(a),i=n(28655),o=n.n(i),l=n(59713),c=n.n(l),s=n(71439),d=n(73976),u=n(76532),g=n(14391),m=n(12566);function p(){var e=o()(["\n  query GetCatalogsByUser(\n    $userId: ID!\n    $pagingOptions: CatalogPagingOptionsInput!\n    $type: CatalogType!\n    $isPaginated: Boolean!\n    $withCatalogDetails: Boolean!\n    $withReadingList: Boolean!\n  ) {\n    readingList: getPredefinedCatalog(userId: $userId, type: READING_LIST)\n      @include(if: $withReadingList) {\n      __typename\n      ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n      ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n    }\n    catalogsByUser(userId: $userId, pagingOptions: $pagingOptions, type: $type) {\n      __typename\n      catalogs {\n        ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n        ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n      }\n\n      paging @include(if: $isPaginated) {\n        __typename\n        nextPageCursor {\n          id\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=5,C=20,I=100,E=20,y=function(e){var t,n=e.limit,a=e.isPaginated,r=void 0!==a&&a,i=e.withCatalogDetails,o=void 0!==i&&i,l=e.withReadingList,c=void 0===l||l,s=(0,u.H)().value;return{userId:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:"",pagingOptions:{limit:n},type:g.HQ.LISTS,isPaginated:r,withCatalogDetails:o,withReadingList:c}};function b(e,t,n,a){var r,i=e.readQuery({query:w,variables:n}),o=null===(r=t.data)||void 0===r?void 0:r.deleteCatalog;if("MutationSuccess"===o.__typename&&o.success){var l,c=null!==(l=null==i?void 0:i.catalogsByUser.catalogs)&&void 0!==l?l:[],s=v(v({},i),{},{catalogsByUser:v(v({},null==i?void 0:i.catalogsByUser),{},{catalogs:c.filter((function(e){return e.id!==a}))})});e.writeQuery({query:w,variables:n,data:s})}}var x=function(e){var t,n;return null!==(t=null==e||null===(n=e.catalogsByUser)||void 0===n?void 0:n.catalogs)&&void 0!==t?t:[]},w=(0,s.Ps)(p(),d.E,m.G),_=function(e){var t,n,a;return"Catalog"!==(null==e||null===(t=e.catalogById)||void 0===t?void 0:t.__typename)?[]:null!==(n=null==e||null===(a=e.catalogById)||void 0===a?void 0:a.itemsConnection.items)&&void 0!==n?n:[]},k=function(e){var t,n,a,r;if("Catalog"===(null==e||null===(t=e.catalogById)||void 0===t?void 0:t.__typename)){var i=null==e||null===(n=e.catalogById)||void 0===n||null===(a=n.itemsConnection)||void 0===a||null===(r=a.paging)||void 0===r?void 0:r.nextPageCursor;if(i)return{nextCursor:{cursor:{id:i.id},limit:E}}}},O=function(e,t){return{catalogById:{itemsConnection:{items:[].concat(r()(_(e)),r()(_(t)))}}}}},80122:(e,t,n)=>{"use strict";n.d(t,{a:()=>E});var a=n(63038),r=n.n(a),i=n(67294),o=n(5977),l=n(94411),c=n(57768),s=n(50223),d=n(42933),u=n(43791),g=n(82318),m=n(71229),p=n(4353),f=n(80908),v=n(98024),h=n(14391),C=n(85277),I=n(27952);function E(e){var t=e.isVisible,n=e.hide,a=e.target,E=e.kind,y=e.switchToAddToModal,b=e.isSwitchingModal,x=(0,o.k6)(),w=i.useState(""),_=r()(w,2),k=_[0],O=_[1],S=i.useState(!1),P=r()(S,2),T=P[0],L=P[1],B=i.useState(""),R=r()(B,2),F=R[0],j=R[1],D=i.useState(!1),M=r()(D,2),A=M[0],$=M[1],N=(0,l.Ax)(),W=N.createCatalog,V=N.loading,U=N.data,z=N.error,G=(0,c.T2)(),H=(0,C.w)();i.useEffect((function(){if("Catalog"===(null==U?void 0:U.createCatalog.__typename))if(E&&a){var e=U.createCatalog,t=e.id,n=e.version;G({catalogId:t,version:n,kind:E,itemId:a.id}),K()}else x.push((0,I.ykG)(null==U?void 0:U.createCatalog))}),[null==U?void 0:U.createCatalog,E,null==a?void 0:a.id,G]),i.useEffect((function(){z&&H({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[z]);var Y=i.useCallback((function(e){O(e.target.value)}),[O]),q=i.useCallback((function(e){j(e.target.value)}),[j]),K=i.useCallback((function(){return O(""),j(""),L(!1),$(!1),y&&b&&!U?y():n()}),[n,b,y,U]),Q=i.useCallback((function(){var e=k.trim();e.length>0&&W({attributes:{title:e,description:F.trim(),type:h.HQ.LISTS,visibility:A?h.n2.PRIVATE:h.n2.PUBLIC}})}),[k,F,A,W]);return i.createElement(s.v,{isVisible:t,hide:K,confirmText:i.createElement(d.x,{display:"flex",alignItems:"center"},"Create",V&&i.createElement(d.x,{marginLeft:"10px"},i.createElement(p.T,{size:"18px"}))),isDestructiveAction:!1,onConfirm:Q,disableConfirm:!k.trim()||V,hideOnConfirm:!1},i.createElement(d.x,{height:"400px"},i.createElement(d.x,{paddingBottom:"60px"},i.createElement(f.Dx,{scale:"L"},"Create new list")),i.createElement(d.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},i.createElement(d.x,{paddingBottom:"20px"},i.createElement(u.n,{value:k,onChange:Y,placeholder:"Give it a name"})),i.createElement(d.x,{paddingBottom:"20px"},T?i.createElement(d.x,{maxHeight:"170px",overflow:"hidden"},i.createElement(u.n,{value:F,onChange:q,placeholder:"Description",isMultiline:!0})):i.createElement(g.r,{onClick:function(){return L(!0)}},i.createElement(v.F,{scale:"L",color:"ACCENT"},"Add a description"))),i.createElement(d.x,null,i.createElement(m.X,{checked:A,onChange:function(){return $(!A)},textScale:"L"},"Make it private")))))}},59749:(e,t,n)=>{"use strict";n.d(t,{fg:()=>d,SZ:()=>u,BR:()=>g});var a=n(28655),r=n.n(a),i=n(71439),o=n(23450),l=n.n(o),c=n(36511);function s(){var e=r()(["\n  fragment formatItemsCount_catalog on Catalog {\n    postItemsCount\n    bookEditionItemsCount\n  }\n"]);return s=function(){return e},e}var d=function(e){return(0,c.r)().viewerId===e},u=function(e,t){var n=e.bookEditionItemsCount,a=e.postItemsCount,r=a>0?"".concat(e.postItemsCount," ").concat(l()("story",a)):"",i=n>0&&t?"".concat(e.bookEditionItemsCount," ").concat(l()("book",n)):"";return r&&i?"".concat(r,", ").concat(i):r||i},g=(0,i.Ps)(s())},46282:(e,t,n)=>{"use strict";n.d(t,{U:()=>u,S:()=>g});var a=n(59713),r=n.n(a),i=n(28655),o=n.n(i),l=n(71439);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){var e=o()(["\n      fragment updateCatalogVersionInCache_catalog on Catalog {\n        version\n      }\n    "]);return d=function(){return e},e}function u(e,t,n){e.writeFragment({id:"Catalog:".concat(t),fragment:(0,l.Ps)(d()),data:{version:n}})}function g(e,t,n){e.modify({id:"Catalog:".concat(t),fields:{itemsConnection:function(e){if(null==e||!e.items)return e;var t=e.items.filter((function(e){return!n.some((function(t){return n={catalogItemId:t},e.__ref==="CatalogItemV2:".concat(JSON.stringify(n));var n}))}));return s(s({},e),{},{items:t})}}})}},57768:(e,t,n)=>{"use strict";n.d(t,{Vd:()=>I,OG:()=>E,T2:()=>y,qY:()=>b,jN:()=>x});var a=n(63038),r=n.n(a),i=n(28655),o=n.n(i),l=n(50361),c=n.n(l),s=n(71439),d=n(46829),u=n(67294),g=n(46282),m=n(14391);function p(){var e=o()(["\n  fragment editCatalogItemsMutation_post on Post {\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n          version\n          catalogItemIds\n        }\n        predefinedContainingThis {\n          catalogId\n          predefined\n          version\n          catalogItemIds\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=o()(["\n  fragment editCatalogItemsMutation_bookEdition on BookEdition {\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n          version\n          catalogItemIds\n        }\n        predefinedContainingThis {\n          catalogId\n          predefined\n          version\n          catalogItemIds\n        }\n      }\n    }\n  }\n"]);return f=function(){return e},e}function v(){var e=o()(["\n  mutation EditCatalogItems(\n    $catalogId: String!\n    $version: String!\n    $operations: [CatalogItemMutateOperationInput!]!\n  ) {\n    editCatalogItems(catalogId: $catalogId, version: $version, operations: $operations) {\n      __typename\n      ... on EditCatalogItemsSuccess {\n        version\n        operations {\n          __typename\n          preprend {\n            __typename\n            catalogItemId\n          }\n          append {\n            __typename\n            catalogItemId\n          }\n        }\n      }\n    }\n  }\n"]);return v=function(){return e},e}var h="temp-cat-version",C=(0,s.Ps)(v()),I=(0,s.Ps)(f()),E=(0,s.Ps)(p());function y(){var e=(0,d.useMutation)(C),t=r()(e,1)[0];return(0,u.useCallback)((function(e){t({variables:{catalogId:e.catalogId,version:e.version,operations:[{preprend:{type:e.kind,id:e.itemId}}]},update:function(t,n){w(t,n,e.catalogId,e.itemId,e.kind,"preprend",e.predefined)}})}),[t])}function b(e,t,n,a,r){return(0,d.useMutation)(C,{variables:{catalogId:e,version:t,operations:[{preprend:{type:a,id:n}}]},update:function(t,i){w(t,i,e,n,a,"preprend",r)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:[{__typename:"EditCatalogItemMutationOperationResponse",preprend:{__typename:"CatalogItemV2",catalogItemId:"temp-cat-item-id"},append:null}],version:h}}})}var x=function(e,t,n,a,r,i){return(0,d.useMutation)(C,{variables:{catalogId:e,version:t,operations:r.map((function(e){return{delete:{itemId:e}}}))},update:function(t,o){w(t,o,e,n,a,"delete",i,r),(0,g.S)(t,e,r)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:r.map((function(e){return{__typename:"EditCatalogItemMutationOperationResponse",append:null,preprend:null}})),version:h}}})};function w(e,t,n,a,r,i,o,l){var s,d=null===(s=t.data)||void 0===s?void 0:s.editCatalogItems;if("EditCatalogItemsSuccess"===(null==d?void 0:d.__typename)){var u,p;if((0,g.U)(e,n,d.version),r===m.ej.BOOK_EDITION)u="BookEdition:".concat(a),p=I;else{if(r!==m.ej.POST)return;u="Post:".concat(a),p=E}var f=e.readFragment({id:u,fragment:p});if(null!=f&&f.viewerEdge.catalogsConnection){var v=d.operations,h=d.version,C=c()(f),y=v[0];if(!y||"move"===i)return;var b=o?C.viewerEdge.catalogsConnection.predefinedContainingThis:C.viewerEdge.catalogsConnection.catalogsContainingThis,x=b.findIndex((function(e){return o?e.predefined===o:e.catalogId===n}));if("append"===i||"preprend"===i){var w=y[i];if(-1!==x)b[x].catalogItemIds.push(w.catalogItemId);else{var _={catalogId:n,version:h,catalogItemIds:[w.catalogItemId]};o&&(_.predefined=o),b.push(_)}}else if("delete"===i&&-1!==x&&l){var k=b[x].catalogItemIds;b[x].catalogItemIds=k.filter((function(e){return!l.includes(e)})),0===b[x].catalogItemIds.length&&b.splice(x,1)}e.writeFragment({id:u,fragment:p,data:C})}}}},94411:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>f,ok:()=>v,BH:()=>h,o:()=>C});var a=n(63038),r=n.n(a),i=n(28655),o=n.n(i),l=n(71439),c=n(46829),s=n(16084);function d(){var e=o()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}function u(){var e=o()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return u=function(){return e},e}function g(){var e=o()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return g=function(){return e},e}function m(){var e=o()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        version\n      }\n    }\n  }\n"]);return m=function(){return e},e}var p=(0,l.Ps)(m()),f=function(){var e=(0,s.dw)({limit:s.W}),t=(0,c.useMutation)(p,{refetchQueries:[{query:s.Dk,variables:e}]}),n=r()(t,2),a=n[0],i=n[1];return{createCatalog:function(e){return a({variables:e})},loading:i.loading,data:i.data,error:i.error}},v=(0,l.Ps)(g()),h=(0,l.Ps)(u()),C=(0,l.Ps)(d())},25752:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var a=n(67294).createContext({isFetching:!1})},67900:(e,t,n)=>{"use strict";n.d(t,{P:()=>h});var a=n(34575),r=n.n(a),i=n(93913),o=n.n(i),l=n(81506),c=n.n(l),s=n(2205),d=n.n(s),u=n(78585),g=n.n(u),m=n(29754),p=n.n(m),f=n(67294),v=n(25752);var h=function(e){d()(i,e);var t,n,a=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p()(t);if(n){var r=p()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return g()(this,e)});function i(e){var t;return r()(this,i),(t=a.call(this,e)).bottomEdgeEl=void 0,t.maybeFetch=void 0,t.state={isFetching:!1},t.maybeFetch=t._maybeFetch.bind(c()(t)),t}return o()(i,[{key:"componentDidMount",value:function(){this.attachScrollListener(),this._maybeFetch()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"_maybeFetch",value:function(){var e=this;if(this.bottomEdgeEl&&!this.state.isFetching){var t=this.props.fetchMore;if(t){var n=this.bottomEdgeEl.getBoundingClientRect(),a=window.innerHeight;n.top-a<3*a&&(this.setState({isFetching:!0}),t().then((function(){e.setState({isFetching:!1}),e._maybeFetch()})))}}}},{key:"attachScrollListener",value:function(){window.addEventListener("scroll",this.maybeFetch),window.addEventListener("resize",this.maybeFetch)}},{key:"detachScrollListener",value:function(){window.removeEventListener("scroll",this.maybeFetch),window.removeEventListener("resize",this.maybeFetch)}},{key:"render",value:function(){var e=this,t=this.props.children;return f.createElement(v.z.Provider,{value:{isFetching:this.state.isFetching}},f.createElement("div",null,t,f.createElement("div",{ref:function(t){e.bottomEdgeEl=t}})))}}]),i}(f.Component)},42560:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var a=n(67294),r=n(82318),i=n(29637),o=n(98024),l=n(6688),c=n(87598),s=function(e){var t=e.items,n=(0,l.I)(),s=(0,c.G)();return a.createElement("div",{className:n(i.wf)},a.createElement("ul",{className:n(i._I)},t.map((function(e,t){var l=e.title,c=e.href,d=s(c);return a.createElement("li",{className:n((0,i.LE)(d)),key:t},a.createElement(o.F,{scale:"M",color:d?"DARKER":"LIGHTER"},a.createElement(r.r,{href:c},l)))}))))}},29637:(e,t,n)=>{"use strict";n.d(t,{wf:()=>s,_I:()=>d,LE:()=>u,LU:()=>g});var a=n(10429),r=n(67294),i=n(82318),o=n(98024),l=n(6688),c=n(87598),s=function(e){return{borderBottom:"1px solid ".concat(e.baseColor.border.lighter)}},d={listStyleType:"none",margin:0,whiteSpace:"nowrap",overflowX:"auto",marginBottom:"-1px"},u=function(e){return function(t){return{display:"inline-block",lineHeight:"40px",marginRight:"20px",paddingBottom:"8px",borderBottom:e?"1px solid ".concat(t.baseColor.border.dark):"none",outline:"none"}}},g=function(e){var t=e.items,n=(0,l.I)(),g=(0,c.G)();return r.createElement(a.mQ,{className:n(s)},r.createElement(a.td,{as:"ul",className:n(d)},t.map((function(e,t){var l=e.title,c=e.href,s=g(c);return r.createElement(a.OK,{as:"li",className:n(u(s)),key:t},r.createElement(o.F,{scale:"M",color:s?"DARKER":"LIGHTER"},r.createElement(i.r,{href:c},l)))}))))}},43791:(e,t,n)=>{"use strict";n.d(t,{n:()=>T});var a=n(67154),r=n.n(a),i=n(63038),o=n.n(i),l=n(6479),c=n.n(l),s=n(67294),d=n(42933),u=n(98024),g=n(18579),m=n(6688);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=s.createElement("path",{fill:"#CC5454",d:"M13.3 13.9l.14-7.08h-1.78l.15 7.08h1.48zm-.74 1.43c-.68 0-1.13.44-1.13 1.12 0 .67.45 1.12 1.13 1.12.68 0 1.13-.45 1.13-1.12 0-.68-.44-1.12-1.12-1.12"}),v=s.createElement("path",{fill:"#CC5454",d:"M12.5 21a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zm0 1a9.5 9.5 0 1 1 0-19 9.5 9.5 0 0 1 0 19z"});const h=function(e){return s.createElement("svg",p({width:25,height:25,viewBox:"0 0 25 25"},e),f,v)};var C=function(e){return{padding:"4px 0",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",textAlign:"inherit",borderWidth:0,outline:0,"::placeholder":{color:e.baseColor.text.lighter,opacity:.5}}},I={border:0,flex:1,overflow:"hidden",resize:"none",width:"100%"},E=function(e){if(e.current){e.current.rows=1;var t=e.current.scrollHeight/parseInt(getComputedStyle(e.current).lineHeight);e.current.rows=t}},y=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,r=e.onChange,i=e.placeholder,o=s.useRef(null),l=s.useCallback((function(e){r&&r(e),E(o)}),[r,o]);s.useEffect((function(){return E(o)}),[t]);var c=(0,m.I)();return s.createElement("textarea",{"aria-label":n,autoFocus:a,className:c([C,I]),placeholder:i,onChange:l,ref:o,rows:1,value:t})},b=function(e){var t=e.count,n=void 0===t?0:t,a=e.limit,r=(0,m.I)();return s.createElement(u.F,{scale:"S"},s.createElement("span",{className:r((function(e){return{color:n>a?e.errorColor:e.baseColor.text.dark}}))},n),"/",a)},x={flex:"1"},w=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,r=e.isPassword,i=e.onChange,o=e.placeholder,l=e.name,c=(0,m.I)();return s.createElement("input",{"aria-label":n,className:c([[C,x]]),type:r?"password":"text",placeholder:o,value:t,name:l,onChange:i,autoFocus:a})},_=function(e){return{borderWidth:"0px 0px 1px 0px",background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",whiteSpace:"nowrap",overflow:"hidden",width:"100%"}},k=function(e){var t=e.value,n=(0,m.I)();return s.createElement("p",{key:t,className:n([C,_])},t)},O=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},S=function(e){var t=e.hasError,n=e.isFocused,a=e.theme;return t&&n||t?a.errorColor:n?a.baseColor.border.dark:a.baseColor.border.light},P=function(e){var t=e.hasError,n=e.isFocused,a=e.omitBorder;return function(e){return{display:"flex",width:"100%",borderStyle:"solid",borderWidth:a&&!t?0:"0px 0px 1px 0px",borderColor:S({hasError:t,isFocused:n,theme:e})}}},T=function(e){var t,n=e.characterCountLimit,a=e.description,i=e.errorMessage,l=e.isEditable,p=void 0===l||l,f=e.isMultiline,v=void 0!==f&&f,C=e.label,I=e.omitBorder,E=e.onFocus,x=e.isPassword,_=void 0!==x&&x,S=e.scale,T=void 0===S?"M":S,L=e.hideErrorIcon,B=void 0!==L&&L,R=e.bold,F=void 0!==R&&R,j=c()(e,["characterCountLimit","description","errorMessage","isEditable","isMultiline","label","omitBorder","onFocus","isPassword","scale","hideErrorIcon","bold"]),D=j.autoFocus,M=j.onBlur,A=!!i,$=(0,m.I)(),N=s.useState(!!D),W=o()(N,2),V=W[0],U=W[1],z=s.useCallback((function(e){E&&E(e),U(!0)}),[E,U]),G=s.useCallback((function(e){M&&M(e),U(!1)}),[M,U]),H=(0,g.n)({name:"detail",scale:"S",color:"ERROR"}),Y=(0,g.n)({name:"detail",scale:T,color:"DARKER"});return s.createElement("span",{className:$(F?[Y,O]:Y)},s.createElement(d.x,{display:"flex",flexDirection:"column",width:"100%"},C&&s.createElement("label",{className:$({marginBottom:"10px"})},C),s.createElement("div",{onFocus:z,onBlur:G,className:$(P({hasError:A,isFocused:V,omitBorder:I}))},v?s.createElement(y,j):p?s.createElement(w,r()({},j,{isPassword:_})):s.createElement(k,j),A&&!B&&s.createElement("span",{style:{paddingLeft:"10px"}},s.createElement(h,null))),s.createElement(d.x,{marginTop:"4px",display:"flex",justifyContent:"space-between"},A?s.createElement("h4",{className:$([H,{width:"100%",textAlign:"inherit"}])},i):s.createElement(u.F,{scale:"S"},a),!!n&&s.createElement(b,{count:null===(t=j.value)||void 0===t?void 0:t.length,limit:n}))))}},12566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j,G:()=>D});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(70405),c=n(42933),s=n(82318),d=n(87561),u=n(98024),g=n(6688),m=n(27952),p=function(e){return{display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"1px",textAlign:"center",borderStyle:"dashed",borderColor:e.baseColor.border.light,padding:"59px 10px",maxWidth:"680px"}},f=function(){var e=(0,g.I)();return o.createElement("div",{className:e(p)},o.createElement(c.x,{paddingBottom:"6px",maxWidth:"400px"},o.createElement(d.QE,{scale:"S",color:"DARKER"},"Make lists of your favorite stories and books on Medium, even add a little commentary.")),o.createElement(c.x,null,o.createElement(s.r,{href:(0,m.$x3)()},o.createElement(u.F,{scale:"M",color:"ACCENT"},"Get started"))))},v=n(59749),h=n(53976),C=n(37278),I=n(14391),E=n(67297),y=n(89392),b=n(66137),x=n(19661);function w(){var e=r()(["\n  fragment CatalogsListItem_catalog on Catalog {\n    id\n    name\n    predefined\n    visibility\n    ...catalogUrl_catalog\n    ...formatItemsCount_catalog\n    listItemsConnection: itemsConnection(pagingOptions: {limit: 3}) {\n      items {\n        catalogItemId\n        ...CatalogCovers_catalogItemV2\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var _=function(e){var t=e.catalog,n=t.name,a=t.visibility,r=t.listItemsConnection,i=t.id,l=t.predefined,d=(0,h.V)({name:"enable_lite_book_experience",placeholder:!1}),g=(0,v.SZ)(t,d),p=a!==I.n2.PUBLIC,f=l?(0,b.S)(l):n,w=(0,E.v9)((function(e){return e.config.authDomain}));return o.createElement(s.r,{href:(0,m.ykG)(t,{authDomain:w})},o.createElement(c.x,{border:"BASE_LIGHTER",borderRadius:"4px",marginBottom:"40px",maxWidth:"680px",width:"100%",display:"flex",justifyContent:"space-between",xs:{flexDirection:"column",maxWidth:"100%"},sm:{width:"100%",flexDirection:"column"},md:{flexDirection:"row"},lg:{flexDirection:"row"},xl:{flexDirection:"row"}},o.createElement(c.x,{key:i,display:"flex",flexDirection:"column",padding:"24px 24px 29px",justifyContent:"space-between"},o.createElement(C.X6,{clamp:2,scale:"S"},f),(p||g)&&o.createElement(c.x,{display:"flex"},g&&o.createElement(u.F,{scale:"S",color:"LIGHTER"},g),p&&o.createElement(c.x,{paddingLeft:"8px"},o.createElement(y.Z,null)))),o.createElement(x.Y_,{catalogItems:r.items})))},k=(0,i.Ps)(w(),x.u1,m.UiF,v.BR),O=n(80122),S=n(26463),P=n(67900),T=n(30027),L=n(19464),B=n(55099),R=n(42560);function F(){var e=r()(["\n  fragment YourCatalogsScreen_catalog on Catalog {\n    ...CatalogsListItem_catalog\n  }\n  ","\n"]);return F=function(){return e},e}var j=function(e){var t=e.catalogs,n=e.fetchMore,a=t.filter((function(e){return!e.predefined}));return o.createElement(o.Fragment,null,o.createElement(l.q,null,o.createElement("title",null,"Your lists"),o.createElement("meta",{name:"title",content:"Your lists"})),o.createElement(c.x,{paddingBottom:"50px",backgroundColor:"BACKGROUND"},o.createElement(S.kw,null),o.createElement(T.P,{size:"outset"},o.createElement(c.x,{maxWidth:"740px"},o.createElement(c.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",xs:{marginTop:"20px"},sm:{marginTop:"20px"},md:{marginTop:"-20px"},lg:{marginTop:"-20px"},xl:{marginTop:"-20px"}},o.createElement(C.X6,{scale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},tag:"h1"},"Your lists"),o.createElement(c.x,null,o.createElement(L.B,null,(function(e){var t=e.hide,n=e.isVisible,a=e.show;return o.createElement(o.Fragment,null,o.createElement(B.z,{size:"LARGE",buttonStyle:"STRONG",onClick:a},"New list"),o.createElement(O.a,{isVisible:n,hide:t}))})))),o.createElement(R.s,{items:[{title:"Lists",href:(0,m.be7)()},{title:"Highlights",href:(0,m.S0c)()},{title:"Recently viewed",href:(0,m.hGr)()}]}),o.createElement(c.x,{marginTop:"50px"},o.createElement(P.P,{fetchMore:n},t.map((function(e){return o.createElement(_,{catalog:e,key:e.id})})))),0===a.length&&o.createElement(f,null)))))},D=(0,i.Ps)(F(),k)},66137:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var a=n(59713),r=n.n(a),i=n(14391);function o(e){return r()({},i.l8.READING_LIST,"Reading list")[e]}},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var a=n(63038),r=n.n(a),i=n(67294),o=n(77180),l=n(27108),c=function(){var e=(0,o.F)(),t=i.useState("lg"),n=r()(t,2),a=n[0],c=n[1],s=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return i.useEffect((function(){return s(),l.V6.on("resize",s),function(){return l.V6.off("resize",s)}}),[]),a}},87598:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var a=n(5977),r=n(67297),i=n(96879),o=function(){var e=(0,a.TH)(),t=(0,r.v9)((function(e){return e.navigation.hostname}));return function(n){return(0,i.z9)(n,t,e)}}},29315:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(59713),r=n.n(a),i=n(82492),o=n.n(i),l=n(46829);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n,a){var r,i,c,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fetchMoreResult",u=(0,l.useQuery)(e,{variables:t}),g=u.data,m=u.fetchMore;if(!g||u.error)return s(s({},u),{},{fetchMore:void 0});var p=null===(r=n(g))||void 0===r?void 0:r.next,f=null===(i=n(g))||void 0===i?void 0:i.nextCursor,v={};if(p||f){if(p){var h=p.limit,C=p.page,I=p.source,E=p.to,y=p.from,b=p.since,x=p.order,w=p.ignoredIds,_=void 0===w?[]:w;v={limit:h,page:C,to:E,source:I,from:y,since:b,order:x,ignoredIds:_}}else if(f){var k=f.cursor,O=f.limit;v={cursor:k,limit:O}}c=function(){return m({variables:s(s({},t),{},{pagingOptions:v}),updateQuery:function(e,t){var n=t.fetchMoreResult;return o()({},"previousResult"===d?e:n,a(e,n))}})}}return s(s({},u),{},{fetchMore:c})}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2625.69e37c91.chunk.js.map

}
/*
     FILE ARCHIVED ON 21:46:56 Jun 19, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 20:22:00 Feb 21, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.102
  exclusion.robots.policy: 0.085
  cdx.remote: 0.165
  esindex: 0.015
  LoadShardBlock: 142.998 (6)
  PetaboxLoader3.resolve: 45.664 (2)
  PetaboxLoader3.datanode: 132.801 (7)
  load_resource: 66.984
*/