var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(self.webpackChunklite=self.webpackChunklite||[]).push([[3609],{71254:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var a=t(67294);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var o=a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"});const r=function(e){return a.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25"},e),o)}},6106:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var a=t(67294);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var o=a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});const r=function(e){return a.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25"},e),o)}},13609:(e,n,t)=>{"use strict";t.d(n,{aR:()=>te,Gm:()=>ae,_C:()=>ie});var a=t(28655),i=t.n(a),o=t(67154),r=t.n(o),l=t(63038),d=t.n(l),c=t(71439),s=t(67294),g=t(319),u=t.n(g),f=t(16084),m=t(77154),v=t(67900),p=t(50223),h=t(42933),C=t(82318),E=t(80908),I=t(98024),T=t(6688),w=t(85277),b=t(29315),k=t(73976),P={maxHeight:"250px",overflowY:"auto",maxWidth:"400px"},x=function(e){var n,t;if(null!=e&&null!==(n=e.catalogsByUser)&&void 0!==n&&n.catalogs){var a=null===(t=e.catalogsByUser.paging)||void 0===t?void 0:t.nextPageCursor;if(a)return{nextCursor:{cursor:{id:a.id},limit:f.e7}}}};function y(e){var n,t=e.isVisible,a=e.hide,i=e.target,o=e.kind,r=e.switchModal,l=(0,T.I)(),d=(0,f.dw)({limit:f.e7,isPaginated:!0}),c=(0,w.w)(),g=(0,b.N)(f.Dk,d,x,(function(e,n){return{catalogsByUser:{catalogs:[].concat(u()((0,f.jk)(e)),u()((0,f.jk)(n)))}}})),y=g.data,A=g.error,_=g.loading,B=g.fetchMore;s.useEffect((function(){A&&c({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[A]);var L=null==y?void 0:y.catalogsByUser.catalogs;return L&&"Catalog"===(null==y||null===(n=y.readingList)||void 0===n?void 0:n.__typename)&&(L=[y.readingList].concat(u()(L))),s.createElement(p.v,{isVisible:t,hide:a,confirmText:"Done",isDestructiveAction:!1,onConfirm:a},s.createElement(h.x,{height:"400px"},s.createElement(h.x,{paddingBottom:"24px"},s.createElement(E.Dx,{scale:"L"},"Save to")),s.createElement(h.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},s.createElement(C.r,{onClick:r},s.createElement(I.F,{scale:"L",color:"ACCENT"},"Create new list")),s.createElement(h.x,{padding:"16px 0"},s.createElement(m.E,null))),L&&s.createElement(v.P,{fetchMore:B},s.createElement("div",{className:l(P)},s.createElement(k.n,{target:i,kind:o,isLoading:_,catalogs:L,queryVariablesOptions:{limit:f.e7,isPaginated:!0}})))))}var A=t(46829);function _(e){var n,t=e.target,a=e.kind,i=e.showAddToModal,o=e.showCreateModal,r=(0,f.dw)({limit:f.W}),l=(0,w.w)(),d=(0,A.useQuery)(f.Dk,{variables:r}),c=d.data,g=d.error,m=d.loading;s.useEffect((function(){g&&l({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[g]);var v=null==c?void 0:c.catalogsByUser.catalogs.slice(0,f.W-1);return v&&"Catalog"===(null==c||null===(n=c.readingList)||void 0===n?void 0:n.__typename)&&(v=[c.readingList].concat(u()(v))),s.createElement(h.x,{padding:"20px 20px 16px 24px",width:"300px",sm:{width:"327px"}},s.createElement(k.n,{target:t,kind:a,catalogs:v,isLoading:m,queryVariablesOptions:{limit:f.W}}),!m&&s.createElement(s.Fragment,null,s.createElement(h.x,{paddingBottom:"16px"},s.createElement(C.r,{onClick:i},s.createElement(I.F,{color:"ACCENT",scale:"L"},"See all"))),s.createElement(I.F,{color:"ACCENT",scale:"L"},s.createElement(C.r,{onClick:o},"Create new list"))))}var B=t(24821),L=t(80122),O=t(50361),M=t.n(O),R=t(46282),S=t(14391);function V(){var e=i()(["\n  fragment useAddItemToPredefinedCatalog_post on Post {\n    viewerEdge {\n      catalogsConnection {\n        predefinedContainingThis {\n          catalogId\n          version\n          predefined\n          catalogItemIds\n        }\n      }\n    }\n  }\n"]);return V=function(){return e},e}function N(){var e=i()(["\n  fragment useAddItemToPredefinedCatalog_bookEdition on BookEdition {\n    viewerEdge {\n      catalogsConnection {\n        predefinedContainingThis {\n          catalogId\n          version\n          predefined\n          catalogItemIds\n        }\n      }\n    }\n  }\n"]);return N=function(){return e},e}function D(){var e=i()(["\n  mutation AddToPredefinedCatalog(\n    $type: PredefinedCatalogType!\n    $operation: PredefinedCatalogAddOperationInput!\n  ) {\n    addToPredefinedCatalog(type: $type, operation: $operation) {\n      __typename\n      ... on AddToPredefinedCatalogSucces {\n        version\n        insertedItem {\n          catalogItemId\n          catalogId\n        }\n      }\n    }\n  }\n"]);return D=function(){return e},e}var j=(0,c.Ps)(D()),F=(0,c.Ps)(N()),W=(0,c.Ps)(V()),H=t(57768),U=t(80362),G=t(19464),Z=t(51064),$=t(71254),z=t(6106),Y=function(e){return{color:e.baseColor.border.dark,fill:e.baseColor.fill.lighter,"&:hover":{color:e.baseColor.border.darker,fill:e.baseColor.fill.normal}}},q=function(e){return{color:e.baseColor.border.darker,fill:e.baseColor.fill.normal}},J=function(){var e=(0,T.I)();return s.createElement($.Z,{className:e(Y)})},K=function(){var e=(0,T.I)();return s.createElement(z.Z,{className:e(q)})};function Q(e){var n=e.insideACatalog,t=e.insideAPredefined;return n||t?s.createElement(K,null):s.createElement(J,null)}function X(){var e=i()(["\n  fragment AddToCatalogBase_post on Post {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n          catalogItemIds\n        }\n        predefinedContainingThis {\n          catalogId\n          predefined\n          catalogItemIds\n        }\n      }\n    }\n    ...useAddItemToPredefinedCatalog_post\n    ...editCatalogItemsMutation_post\n    ...WithToggleInsideCatalog_post\n  }\n  ","\n  ","\n  ","\n"]);return X=function(){return e},e}function ee(){var e=i()(["\n  fragment AddToCatalogBase_bookEdition on BookEdition {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n    ...useAddItemToPredefinedCatalog_bookEdition\n    ...editCatalogItemsMutation_bookEdition\n    ...WithToggleInsideCatalog_bookEdition\n  }\n  ","\n  ","\n  ","\n"]);return ee=function(){return e},e}function ne(e){var n=e.children,t=e.isPanelVisible,a=e.hidePanel,i=e.togglePanel,o=e.target,r=e.kind,l=(0,Z.O)(!1),c=d()(l,4),g=c[0],u=c[1],f=c[2],m=c[3],v=(0,Z.O)(!1),p=d()(v,4),h=p[0],C=p[1],E=p[2],I=p[3],T=s.useState(!1),w=d()(T,2),b=w[0],k=w[1],P=function(e,n,t){var a=(0,A.useMutation)(j,{variables:{type:e,operation:{preprend:{type:t,id:n}}},update:function(a,i){var o,r=null===(o=i.data)||void 0===o?void 0:o.addToPredefinedCatalog;if("AddToPredefinedCatalogSucces"===(null==r?void 0:r.__typename)){var l,d,c=r.insertedItem,s=r.version;if((0,R.U)(a,c.catalogId,s),t===S.ej.BOOK_EDITION)l="BookEdition:".concat(n),d=F;else{if(t!==S.ej.POST)return;l="Post:".concat(n),d=W}var g=a.readFragment({id:l,fragment:d});if(null!=g&&g.viewerEdge.catalogsConnection){var u=M()(g),f=u.viewerEdge.catalogsConnection.predefinedContainingThis.findIndex((function(n){return n.predefined===e}));if(-1!==f)u.viewerEdge.catalogsConnection.predefinedContainingThis[f].catalogItemIds.push(c.catalogItemId);else{var m=u.viewerEdge.catalogsConnection.predefinedContainingThis,v={catalogId:c.catalogId,predefined:e,version:s,catalogItemIds:[c.catalogItemId]};m.push(v)}a.writeFragment({id:l,fragment:d,data:u})}}}});return d()(a,1)[0]}(S.l8.READING_LIST,o.id,r),x=o.viewerEdge.catalogsConnection,B=(null==x?void 0:x.predefinedContainingThis)&&x.predefinedContainingThis.length>0,O=(null==x?void 0:x.catalogsContainingThis)&&x.catalogsContainingThis.length>0,V=s.useMemo((function(){var e;return!!(null==x||null===(e=x.predefinedContainingThis)||void 0===e?void 0:e.find((function(e){return e.predefined===S.l8.READING_LIST})))}),[x]),N=s.useCallback((function(){k(!b),m(),I()}),[m,I,b]),D=s.useCallback((function(){i(),V||O||P()}),[i,O,V,P]),H=s.createElement(Q,{insideACatalog:!!O,insideAPredefined:!!B});return s.createElement(U.J,{isVisible:t,popoverRenderFn:function(){return s.createElement(_,{showAddToModal:u,showCreateModal:C,target:o,kind:r})},hide:a,targetDistance:15,referenceWidth:"100%"},g?s.createElement(y,{isVisible:g,hide:f,switchModal:N,target:o,kind:r}):s.createElement(L.a,{isVisible:h,hide:E,switchToAddToModal:N,isSwitchingModal:b,target:o,kind:r}),n({onClick:D,bookmarkIcon:H,isCataloged:!!O||!!B}))}function te(e){return s.createElement(G.B,null,(function(n){var t=n.isVisible,a=n.toggle,i=n.hide;return s.createElement(ne,r()({},e,{isPanelVisible:t,togglePanel:a,hidePanel:i}))}))}var ae=(0,c.Ps)(ee(),F,H.Vd,B.tA),ie=(0,c.Ps)(X(),W,H.OG,B.m7)},77154:(e,n,t)=>{"use strict";t.d(n,{E:()=>o});var a=t(67294),i=t(42933),o=function(){return a.createElement(i.x,{height:"0px",width:"100%",borderBottom:"BASE_LIGHTER"})}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3609.5091f9af.chunk.js.map

}
/*
     FILE ARCHIVED ON 21:46:58 Jun 19, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 20:20:27 Feb 21, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.112
  exclusion.robots.policy: 0.094
  cdx.remote: 0.16
  esindex: 0.013
  LoadShardBlock: 326.405 (6)
  PetaboxLoader3.datanode: 285.981 (7)
  load_resource: 85.51
  PetaboxLoader3.resolve: 54.943
*/